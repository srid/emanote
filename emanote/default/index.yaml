# These variables are made globally available in the HTML templates.
# Make sure that they do not conflict with HTML tag names.
# You can override them on a per-note or per-directory basis by creating the
# associated .yaml file.

# Order is used by Emanote to determine the sidebar order of notes.
order: 0

tags: []

# TODO: How to design this when generating RSS feeds?
template:
  # Which template to use to render notes. The filepath without the .tpl extension.
  name: /templates/layouts/default
  # Base settings for our default layout.
  base:
    # The class to apply for <body> element when
    bodyClass: bg-gray-200 dark:bg-black text-gray-900 dark:text-gray-50 overflow-y-scroll
    containerClass: container mx-auto
  error:
    containerClass: container mx-auto max-w-prose
  uptree:
    enable: false
    # Class to apply for uptree's nodes
    nodeClass: bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-${theme}-500 dark:hover:bg-${theme}-600 hover:text-white cursor-pointer transition-all duration-150
  # List of available colors: https://tailwindcss.com/docs/customizing-colors#default-color-palette
  theme: blue
  # Value of the <base> tag.
  baseUrl: /
  iconUrl: favicon.svg
  # Change this to 'pretty' if you want URLs without the '.html' suffix.
  urlStrategy: direct
  sidebar:
    enable: true
    # Whether this node in the sidebar tree should remain collapsed by default
    # (unless a route in it is active)
    collapsed: true
    # Weather this node should put folders before single notes
    folders-first: false
  breadcrumbs:
    enable: true
  stork:
    # https://stork-search.net/docs/config-ref#frontmatter_handling
    frontmatter-handling: omit
  toc:
    enable: true

pandoc:
  # Rewrite the class specified in Pandoc's Div and Span nodes. You can specify the class using
  # https://github.com/jgm/commonmark-hs/blob/master/commonmark-extensions/test/attributes.md
  #
  # This feature is useful when managing a "library" of CSS styling to use on
  # Markdown text, especially when using Tailwind.
  rewriteClass:
    # How to style inline tags. Tag-specific styles can be applied as well.
    emanote:inline-tag: font-semibold bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 py-1 px-3 rounded-lg shadow-sm
    # This style is used by `#a/red/tag` in addition to the generic style above.
    # As this class comes *after* the generic class, it can override the styles
    # in the generic class.
    emanote:inline-tag:a/red/tag: bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300
    emanote:placeholder-message: text-gray-400 dark:text-gray-500 border-t-2 border-gray-200 dark:border-gray-800 inline-block pt-1
    emanote:error: text-l bg-red-50 dark:bg-red-950 p-3 border-2 border-red-200 dark:border-red-800 m-2 font-mono rounded-lg
    emanote:error:aside: font-mono align-top text-xs mr-1 tracking-tighter opacity-50 hover:opacity-100
    # You can also add your own class -> style mappings. We provide a sample below.
    sticky-note: px-4 py-3 rounded-lg shadow-md bg-yellow-50 dark:bg-yellow-900 mx-2 transform -skew-y-1 scale-95 hover:scale-100 hover:border-yellow-400 hover:shadow-xl border-l-4 border-yellow-400 mb-8 mt-8 transition-all duration-200
    note: p-4 mb-4 rounded-lg shadow-sm bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-50 w-full float-none md:float-right md:w-1/2 md:clear-both border border-gray-200 dark:border-gray-800
    highlight-block: px-4 py-3 mb-4 rounded-lg bg-${theme}-50 dark:bg-${theme}-950 hover:border-${theme}-400 hover:shadow-md border-l-4 border-${theme}-400 transition-all duration-200
    highlight-inline: bg-yellow-100 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded-md
    center: flex justify-center items-center mx-auto

# Put page-specific metadata here. Override them in Markdown frontmatter or
# per-folder YAML as necessary.
page:
  # The URL to the deployed site. Must include everything upto `baseUrl` above.
  siteUrl: ""

  siteTitle: My Emanote Site
  # Desription is expected to be set on a per-page basis.
  # By default, the first paragraph is used for description.
  # Used for https://ogp.me/
  description: ""

  # Language code for the page.
  # https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang
  lang: "en"

  # Image URL for previews.
  # By default, the first image URL is used. Note: wikilink are not yet
  # supported.
  # Used for https://ogp.me/
  image: ""

  twitter:
    card: summary_large_image

  # Put anything that should go in <head> of these routes here:
  # You can reference other metadata keys using <snippet var=".." />
  # Or use the JS behaviour library below.
  headHtml: |
    <meta name="generator" content="Emanote" />
    <style>
    /* Skylighting syntax highlighting theme */
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.re { } /* RegionMarker */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    /* Dark mode overrides */
    @media (prefers-color-scheme: dark) {
      code span.al { color: #ff6b6b; }
      code span.an { color: #8ec8e8; }
      code span.at { color: #a9c77d; }
      code span.bn { color: #87ceab; }
      code span.bu { color: #66cc99; }
      code span.cf { color: #66cc99; }
      code span.ch { color: #79a6d2; }
      code span.cn { color: #e09090; }
      code span.co { color: #8ec8e8; }
      code span.cv { color: #8ec8e8; }
      code span.do { color: #e08080; }
      code span.dt { color: #e09090; }
      code span.dv { color: #87ceab; }
      code span.er { color: #ff6b6b; }
      code span.fl { color: #87ceab; }
      code span.fu { color: #79a6d2; }
      code span.im { color: #66cc99; }
      code span.in { color: #8ec8e8; }
      code span.kw { color: #cc99cc; }
      code span.op { color: #cccccc; }
      code span.ot { color: #66cc99; }
      code span.pp { color: #d7ba7d; }
      code span.sc { color: #79a6d2; }
      code span.ss { color: #cc99cc; }
      code span.st { color: #79a6d2; }
      code span.va { color: #9cdcfe; }
      code span.vs { color: #79a6d2; }
      code span.wa { color: #8ec8e8; }
    }
    </style>

  # Put anything that should below the <body> of these routes here:
  # You can reference other metadata keys using <snippet var=".." />
  # Or use the JS behaviour library below.
  bodyHtml: |

# Builtin JS behaviour library. Use them in `page.headHtml` of your .yaml or .md
# frontmatter.
js:
  # Diagrams using mermaid.js
  mermaid: |
    <!-- mermaid.js -->
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
      import elkLayouts from 'https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0/dist/mermaid-layout-elk.esm.min.mjs';
      mermaid.registerLayoutLoaders(elkLayouts);
      const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
      mermaid.initialize({
        startOnLoad: false,
        theme: isDarkMode ? 'dark' : 'base'
      });
      mermaid.init(undefined, document.querySelectorAll(".mermaid"));
      
      // Listen for theme changes and reload page (simple approach)
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
        window.location.reload();
      });
    </script>
  mathjax: |
    <script>
      window.MathJax = {
        startup: {
          ready: () => {
            MathJax.startup.defaultReady();
          }
        }
      };
    </script>
    <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  katex: |
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
          integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV"
          crossorigin="anonymous">
    <script defer
            src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
            integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
            crossorigin="anonymous"></script>
    <script defer
            src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
            crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script>

emanote:
  # Whether to automatically treat folder notes as a folgezettel parent of its contents
  # By default, all but top-level folders are treated as folgezettel parents.
  # folder-folgezettel: true
  
  # Enable server-side syntax highlighting using skylighting (default: true)
  # Set to false to use client-side highlighters like highlight.js instead
  syntaxHighlighting: true
